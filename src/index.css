/* Import Playfair Display from Google Fonts */
@import url('https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,500;0,600;0,700;0,800;0,900;1,400;1,500;1,600;1,700;1,800;1,900&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Fraunces:opsz,wght@9..144,300..900&display=swap');
@import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;500;600;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  font-family: 'Inter', system-ui, -apple-system, sans-serif;
  line-height: 1.6;
  font-weight: 400;

  color-scheme: light dark;
  color: theme('colors.ink.800'); /* Updated */
  background-color: theme('colors.paper.50'); /* Updated */

  font-synthesis: none;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;

  /* Updated color scheme to include green */
  --primary-color: #047857; /* green-700 */
  --secondary-color: #16A34A; /* green-600 */
  --text-color: theme('colors.ink.800'); 
  --text-secondary: theme('colors.ink.500'); 
  --bg-color: theme('colors.paper.50'); 
  --bg-secondary: theme('colors.paper.100'); 
  --border-color: theme('colors.paper.300'); 
  --transition-speed: 0.3s;

  --card-background: theme('colors.paper.50'); /* Updated */
  --error-color: theme('colors.red.600'); /* Updated */
  --success-color: #047857; /* green-700 */

  --font-body: 'Inter', sans-serif;
  --font-heading: 'Fraunces', serif;
  --font-mono: 'JetBrains Mono', monospace;
}

.dark-mode {
  --text-color: theme('colors.paper.100'); /* Updated */
  --text-secondary: theme('colors.paper.400'); /* Updated */
  --bg-color: theme('colors.ink.900'); 
  --bg-secondary: theme('colors.ink.800'); 
  --border-color: theme('colors.ink.700'); 
  --card-background: var(--bg-secondary);
  --primary-color: #059669; /* green-600 - slightly lighter for dark mode */
}

body {
  margin: 0;
  background-color: var(--bg-color);
  color: var(--text-color);
  transition: background-color var(--transition-speed) ease, color var(--transition-speed) ease;
  font-family: var(--font-body);
}

h1, h2, h3, h4, h5, h6 {
  font-family: var(--font-heading);
  font-weight: 700; /* Fraunces has variable weights, adjust as needed */
  line-height: 1.2;
  color: var(--text-color);
}

.event-title {
  font-family: var(--font-heading);
  font-weight: 600; /* Example weight */
}

/* Custom scrollbar styling */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: var(--bg-secondary);
}

::-webkit-scrollbar-thumb {
  background: #D8D0C3; /* paper-400 */
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: #B6AA96; /* paper-500 */
}

.dark-mode ::-webkit-scrollbar-track {
  background: #44403C; /* ink-700 */
}

.dark-mode ::-webkit-scrollbar-thumb {
  background: #57534E; /* ink-600 */
}

.dark-mode ::-webkit-scrollbar-thumb:hover {
  background: theme('colors.ink.500'); /* Updated */
}

/* Ensure App takes full height */
html, body, #root {
  height: 100%;
  margin: 0;
  padding: 0;
}

/* Active channel style - updated to match sample */
.channel-active {
  @apply bg-green-100 text-green-700 font-medium;
  /* For dark mode */
  .dark & {
    @apply bg-green-900/30 text-green-500;
  }
}

/* Custom button styling for action buttons - updated to use green */
.action-button {
  @apply px-4 py-2 text-sm font-medium rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all duration-200;
}
.action-button-primary {
  @apply bg-green-700 text-white hover:bg-green-800 focus:ring-green-600;
}
.action-button-secondary {
  @apply bg-white text-gray-700 border border-gray-300 hover:bg-gray-50 focus:ring-green-600;
  @apply dark:bg-ink-700 dark:text-paper-200 dark:border-ink-600 dark:hover:bg-ink-600; /* Dark mode refinement */
}

/* event card hover effect */
.event-card {
  background-color: var(--card-background);
  @apply transition-all duration-200 hover:shadow-md;
}

/* Dark mode styles - Tailwind's 'dark:' prefix is preferred for new styles,
   but these existing global overrides can be kept or refactored. */
.dark-mode {
  @apply bg-gray-900 text-gray-100;
}
.dark-mode .bg-white {
  @apply bg-gray-800;
}
.dark-mode .text-gray-900 {
  @apply text-gray-100;
}
.dark-mode .text-gray-800 {
  @apply text-gray-200;
}
.dark-mode .text-gray-700 {
  @apply text-gray-300;
}
.dark-mode .text-gray-600 {
  @apply text-gray-400;
}
.dark-mode .text-gray-500 {
  color: theme('colors.paper.500'); /* Updated */
}
.dark-mode .border-gray-100 {
  @apply border-gray-700;
}
.dark-mode .border-gray-200 {
  @apply border-gray-700;
}
.dark-mode .channel-active {
  @apply bg-gray-700 text-gray-100;
}
.dark-mode .action-button-secondary {
  @apply bg-gray-700 text-gray-300 border-gray-600 hover:bg-gray-600;
  @apply dark:bg-ink-700 dark:text-paper-200 dark:border-ink-600 dark:hover:bg-ink-600; /* Dark mode refinement */
}

/* Tag styling */
.tag {
  @apply text-xs font-medium px-2 py-1 rounded-full inline-block;
}

/* Progress bar animation */
@keyframes loadingBar {
  0% { width: 0; }
  100% { width: 100%; }
}
.loading-bar {
  animation: loadingBar 2s linear;
}

/* Ensure line-clamp utility is available if not by default with your Tailwind version */
.line-clamp-3 {
  overflow: hidden;
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 3;
}

/* Newspaper-styled components */
@layer components {
  .newspaper-header {
    @apply font-display font-bold tracking-tight;
  }
  
  .event-card {
    background-color: var(--card-background) !important; /* Ensure this applies */
    @apply dark:bg-ink-800 border border-paper-300 dark:border-ink-700 
           transition-all duration-300 ease-in-out; /* Smoother transition */
           /* Removed hover:shadow-newspaper, will be handled by card state */
  }
  
  .action-button {
    @apply px-4 py-2 text-sm font-medium rounded-sm focus:outline-none transition-all duration-200;
  }
  
  .action-button-primary {
    @apply bg-accent-blue text-paper-50 hover:bg-accent-blue/90;
  }
  
  .action-button-secondary {
    @apply bg-paper-50 text-ink-800 border border-paper-300 hover:bg-paper-100;
    @apply dark:bg-ink-800 dark:text-paper-100 dark:border-ink-700 dark:hover:bg-ink-700;
  }
  
  .nav-link {
    @apply text-ink-700 dark:text-paper-300 hover:text-accent-blue dark:hover:text-accent-blue/90 font-medium
           transition-colors duration-200; /* Refined nav link */
  }
  
  .category-tag {
    @apply text-xs font-mono font-medium px-2 py-0.5 bg-paper-200 dark:bg-ink-700 text-ink-700 
           dark:text-paper-200 rounded-sm; /* Using mono for tags */
  }
}
